/*void kbc_asm_ih();*/
/*using _C_LABEL() from <machine/asm.h>*/
#include  <machine/asm.h>

#include "8042.h"

.intel_syntax

.global _C_LABEL(code)
.global _C_LABEL(kbc_asm_ih)
.data

.text
_C_LABEL(kbc_asm_ih):
          xor ebx, ebx //Variable that will contain a byte from the scancode
     /*     in OUT_BUF, ebx //input: ebx has now a byte from the scancode
          mov edx, ebx
          cmp edx, eflags
          jnc noError
          jno noError
          mov code, 0
          jmp Fim
noError:  mov code, bl
Fim:   */   ret